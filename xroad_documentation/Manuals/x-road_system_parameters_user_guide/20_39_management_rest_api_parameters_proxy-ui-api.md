### 3.9 Management REST API parameters: `[proxy-ui-api]`

| **Parameter**                                        | **Default value**                           | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|------------------------------------------------------|---------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ssl-properties                                       | /etc/xroad/ssl.properties                   | Absolute path to file which overrides the default properties of the SSL connections to REST API.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| key-management-api-whitelist                         | 127.0.0.0/8, ::1                            | Comma-separated list of plain IP addresses or address ranges in CIDR notation, which are allowed to call key management endpoints using basic authentication                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| regular-api-whitelist                                | 0.0.0.0/0, ::/0                             | Comma-separated list of plain IP addresses or address ranges in CIDR notation, which are allowed to call regular endpoints using api key authentication                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| wsdl-validator-command                               |                                             | The command to validate the given X-Road service WSDL. The command script must:a) read the WSDL from the URI given as an argument,b) return exit code 0 on success,c) return exit code 0 and write warnings to the standard error (*stderr*), if warnings occurs,d) return exit code other then 0 and write error messages to the standard error (*stderr*), if errors occurs.Defaults to no operation.                                                                                                                                                                                                                                                                                                                   |
| auth-cert-reg-signature-digest-algorithm-id          | SHA-512                                     | Signature digest algorithm used for generating authentication certificate registration request.Possible values are-   SHA-256,-   SHA-384,-   SHA-512.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| auto-update-timestamp-service-url                    | false                                       | If enabled, makes the security server update the timestamping service URLs when they are changed on the central server. In case there are multiple timestamping services with the same name, the update will not be done and a warning is logged instead.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| request-size-limit-regular                           | 50KB                                        | Maximum size of Management REST API requests                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request-size-limit-binary-upload                     | 10MB                                        | Maximum size of Management REST API requests for file uploads                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| rate-limit-requests-per-second                       | 20                                          | Management REST API request rate limit per second. Rate limits apply per each requesting IP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| rate-limit-requests-per-minute                       | 600                                         | Management REST API request rate limit per minute. Rate limits apply per each requesting IP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| rate-limit-cache-size                                | 10000                                       | Controls how many IP addresses can be remembered in the rate-limit cache Tradeoff between memory usage and protection from a large attack.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| allowed-hostnames                                    |                                             | Determines which hostnames are allowed to be used in "Host" header of the HTTP requests. Any hostname is allowed when left unspecified.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| cache-default-ttl                                    | 60                                          | Configures default cache expiration in seconds. Cache is hit during authentication requests. Setting the value to -1 disables the cache.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| cache-api-key-ttl                                    | 60                                          | Configures Api Key cache expiration in seconds. Can be used by various api services. Setting the value to -1 disables the cache.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| strict-identifier-checks                             | true*                                       | Configures identifier input validation (member code, subsystem code etc).Values:`true`- identifiers must mach pattern `^[a-zA-Z0-9'()+,-.=?]*`.`false`- identfiers must not contain colon (`:`), semicolon (`;`), slashes (`/\`), percent (`%`) or control characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| complementary-user-role-mappings                     |                                             | Configures additional UNIX groups mapped to X-Road user roles. This property is defined using a separate subsection `[proxy-ui-api.complementary-user-role-mappings]`, for example:*[proxy-ui-api.complementary-user-role-mappings]XROAD_SECURITY_OFFICER=group1,group2XROAD_SERVICE_ADMINISTRATOR=group3,group4***Note that following configurations are preconfigured and cannot be redefined:***XROAD_SECURITY_OFFICER=xroad-security-officer**XROAD_REGISTRATION_OFFICER=xroad-registration-officer**XROAD_SERVICE_ADMINISTRATOR=xroad-service-administrator**XROAD_SYSTEM_ADMINISTRATOR=xroad-system-administrator**XROAD_SECURITYSERVER_OBSERVER=xroad-securityserver-observer* |
| allow-csr-for-key-with-certificate                   | false                                       | Controls if generating the new CSR is allowed for a key that has an existing certificate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| acme-authorization-wait-attempts                     | 5                                           | Number of attempts to check whether the ACME authorizations have completed before giving up                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| acme-authorization-wait-interval                     | 5000                                        | Amount of time in milliseconds to wait between ACME authorization completion check attempts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| acme-certificate-wait-attempts                       | 5                                           | Number of attempts to check whether the ACME certificate is ready before giving up                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| acme-certificate-wait-interval                       | 5000                                        | Amount of time in milliseconds to wait between ACME certificate completion check attempts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| acme-certificate-account-key-pair-expiration         | 365                                         | Amount of days the ACME server account's self-signed certificate is valid                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| acme-keypair-renewal-time-before-expiration-date     | 14                                          | When to trigger automatic ACME account keypair renewal subtracted as days from the expiration date of the certificate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| acme-challenge-port-enabled                          | false                                       | If enabled, the API will listen on port 80 for incoming ACME challenge requests                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| acme-renewal-active                                  | true                                        | If enabled, the ACME automatic certificate renewal job will run periodically                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| acme-renewal-interval                                | 3600                                        | Amount of seconds between automatic ACME certificate renewal job runs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| acme-renewal-retry-delay                             | 60                                          | Amount of seconds between automatic ACME certificate renewal runs, if the last run was a failure                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| acme-renewal-time-before-expiration-date             | 14                                          | When to trigger next automatic renewal. Subtracted as days from the expiration date of the certificate. Used when it's not possible to receive the ACME renewal information from the ACME server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| acme-renewal-success-notification-enabled            | true                                        | If enabled, notification e-mail is sent to the member when automatic certificate renewal has successfully renewed a certificate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| acme-renewal-failure-notification-enabled            | true                                        | If enabled, notification e-mail is sent to the member when automatic certificate renewal has failed to renew a certificate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| security-server-url                                  | https://localhost:{proxy.client-https-port} | Security Server url. Used to send management requests (except AuthCertRegRequest, it is send to directly to Central Server                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| reserved-service-codes                               | listClients,listMethods,allowedMethods,getWsdl,getOpenAPI,getSecurityServerMetrics,getSecurityServerOperationalData,getSecurityServerHealthData| Comma-separated list of reserved service codes that cannot be used for registering custom services. These codes are reserved for internal metaservices and should not be assigned to user-defined services to avoid conflicts and preserve system integrity                                                                                                                                                                                                                                                                                                                                                  |
| management-request-sender-client-keystore            |                                             | Path to PKCS#12 keystore containing the key to be used for mTLS enabled connection to Proxy server for sending management requests. If provided, then `management-request-sender-client-truststore` must be provided either. If not set, then the internal key is used for connection.                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| management-request-sender-client-keystore-password   |                                             | Keystore password                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| management-request-sender-client-truststore          |                                             | Path to PKCS#12 truststore containing trusted server certificates. Used for mTLS connection with Proxy server for sending management requests. If provided, then `management-request-sender-client-keystore` must be provided either. If not set, then the internal key is used for connection.                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| management-request-sender-client-truststore-password |                                             | Truststore password                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| auth-cert-registered-notification-enabled            | true                                        | If enabled, notification e-mail is sent to the member when authentication certificate has been registered in global configuration                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| signing-key-algorithm                                | RSA                                         | Key algorithm used for creating signing certificate request. Possible values are RSA and EC. (since version 7.6)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| authentication-key-algorithm                         | RSA                                         | Key algorithm used for creating authentication certificate request. Possible values are RSA and EC. (since version 7.6)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| automatic-activate-auth-certificate                  | false                                       | If enabled, authentication certificates are activated automatically after they have been registered on the Central Server                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| automatic-activate-acme-sign-certificate             | false                                       | If enabled, signing certificates are activated automatically when they have been ordered from via ACME (new or renew)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| cert-auto-activation-notification-enabled            | true                                        | If enabled, notification e-mail is sent to the member when automatic certificate activation was successful                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| cert-auto-activation-failure-notification-enabled    | true                                        | If enabled, notification e-mail is sent to the member when automatic certificate activation has failed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

> **NOTE**: `strict-identifier-checks` default value is true for new installations starting from version 7.3.0. It is
> set to `false` in `local.ini` during upgrade process if version installed before upgrade is less than 7.3.0.



Configurable SSL connection parameters are those
[Spring Boot's common application properties](https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)
that start with `server.ssl`.

ssl.properties can be used to override any `server.ssl.*` property, also those that do not have default values. However, the result of merging default properties
and overridden / new properties needs to be a functional combination.

Default values for the SSL properties are

| **SSL Property**              | **Default value**                                                                                                                                              | **Description**                                      |
|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
| server.ssl.key-store          | /etc/xroad/ssl/proxy-ui-api.p12                                                                                                                                | Path to the key store that holds the SSL certificate |
| server.ssl.key-store-password | proxy-ui-api                                                                                                                                                   | Password used to access the key store                |
| server.ssl.enabled            | true                                                                                                                                                           | Whether to enable SSL support                        |
| server.ssl.ciphers            | TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 | Supported SSL ciphers                                |
| server.ssl.protocol           | TLS                                                                                                                                                            | SSL protocol to use                                  |
| server.ssl.enabled-protocols  | TLSv1.2                                                                                                                                                        | Enabled SSL protocols                                |

Management REST API module uses `database-properties` configuration from the [proxy parameters](#32-proxy-parameters-proxy),
with some additional limitations on configurability (see details in proxy chapter).